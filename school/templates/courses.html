{% extends "base.html" %}
{% load staticfiles %}
{% block maincontent %}

<div id="courses-view">

   <div class="row">
      <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="header-title">Cursos</h4>
                                <div id="accordion1" class="according">
                                    <div class="card">
                                        <div class="card-header">
                                            <a class="card-link collapsed" data-toggle="collapse" href="#accordion11" aria-expanded="false">Agregar <curso></curso></a>
                                        </div>
                                        <div id="accordion11" class="collapse" data-parent="#accordion1" >
                                            <div class="card-body">
                                                <div class="row">
                                                   <div class="col-md-6">
                                                        <input id="name" class="form-control" type="text" placeholder="Nombre del curso..." data-bind="value: course().name">
                                                   </div>
                                                   <div class="col-md-6">
                                                        <select id="teacher" class="form-control" data-bind="options: teachers, optionsValue: 'id', optionsText: 'name' , optionsCaption: '--Seleccione una opcion--', value: course().teacherId"> </select>
                                                   </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <input class="form-control" type="search" id="searchStudentButton" placeholder="Buscar estudiante..." data-bind="value: filterStudentCriterium, valueUpdate: 'afterkeydown'">
                                                    </div>
                                                </div>
                                                    <div class="row" id="studentsToShow" data-bind="foreach: studentsToShow">
                                                        <div class="col-sm-3">
                                                        <div class="form-group">
                                                            <input type="checkbox" data-bind="checked: wasAddedToThisCourse" >
                                                            <label data-bind="text: name"></label>
                                                        </div>
                                                        </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <input type="button" class="button btn-primary pull-right" data-bind="click: saveCourse" value="Guardar"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
      </div>
   </div>
   <div class="row">
      <div class="col-lg-12 mt-5">
         <div class="card">
            <div class="card-body">
               <h4 class="header-title">Lista de cursos</h4>
               <div class="col-lg-12 mt-5">
                  <div class="card">
                     <div class="card-body">
                        <div id="courseEntry" class="according accordion-s2" data-bind="foreach: courses">
                           <div class="card">
                              <div class="card-header">
                                 <a class="card-link" data-toggle="collapse"
                                    data-bind="text: name, attr: {href: ('#' + $root.getCourseId( $data))}"></a>
                              </div>
                              <div class="collapse" data-bind="attr: {id: $root.getCourseId( $data)}">
                                 <div class="card-body">
                                    <div class="col-lg-12 mt-5">
                                       <div class="card">
                                          <div class="card-body">
                                             <h4 class="header-title">Estudiantes </h4>
                                             <div class="single-table">
                                                <div class="table-responsive">
                                                   <table class="table text-center">
                                                      <thead class="text-uppercase bg-secondary">
                                                         <tr class="text-white">
                                                            <th scope="col">ID</th>
                                                            <th scope="col">Nombre</th>
                                                            <th scope="col">Acci√≥n</th>
                                                         </tr>
                                                      </thead>
                                                      <tbody data-bind="foreach: students">
                                                         <tr>
                                                            <th scope="row" data-bind="text: id"></th>
                                                            <td data-bind="text: name"></td>
                                                            <td data-bind="click: $root.deleteStudentFromCourse"><i class="ti-trash"></i></td>
                                                         </tr>
                                                      </tbody>
                                                   </table>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
{% endblock %}
{% block javascript %}
<script src="{% static "assets/js/app/courses.js" %}"></script>
{% endblock %}